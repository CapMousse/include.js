!function(t){function e(t,e,a){var n=this;"string"!=typeof t&&(a=e,e=t,t=null),e.constructor!==[].constructor&&(a=e,e=[]),o.unshift([t,e,a]),n.checkModuleLoaded(),e.length&&n.each(e,n.parseFiles)}var a={},o=[],n=1,r=document.getElementsByTagName("base")[0],c=document.getElementsByTagName("head")[0];e.prototype.each=function(t,e){var a,o=this;for(a=0;a<t.length&&(void 0===t[a]||e.call(o,t[a],a,t)!==!1);a++);},e.prototype.checkModuleLoaded=function(){var t=this;t.each(o,function(e,r){var c=e[0],d=e[1],u=e[2],i=[];t.each(d,function(t,e,o){e=t.push?t[0]:t,o=document.querySelector('[data-module="'+e+'"]'),void 0!==a[e]&&i.push(a[e]),o&&"LINK"==o.nodeName&&i.push(null)}),d.length!==i.length&&0!==d.length||(null===c&&r+1===o.length&&(o=[],n=1),u="function"==typeof u?u.apply(this,i):u,null!==c&&(a[c]=u))})},e.prototype.onModuleLoaded=function(t,e){var r=this;e>o.length?(n--,a[t]=a[t]||n):null===o[0][0]&&(o[0][0]=t),r.checkModuleLoaded()},e.prototype.onLoad=function(t,e){var a=this,o=t.currentTarget||t.srcElement;"load"!==t.type&&"complete"!=o.readyState||(o.setAttribute("data-loaded",!0),a.onModuleLoaded(o.getAttribute("data-module"),o.getAttribute("data-count")),o.attachEvent?o.detachEvent("onreadystatechange",e):o.removeEventListener("load",e))},e.prototype.watchCss=function(t){for(var e=this,a=document.styleSheets,o=a.length,n=t.href.split("//").pop();o--;)if(-1!=a[o].href.indexOf(n))return t.setAttribute("data-loaded",!0),e.onModuleLoaded(t.getAttribute("data-module"),t.getAttribute("data-count"),!0),void e.checkModuleLoaded();setTimeout(function(){e.watchCss.call(e,t)})},e.prototype.attachEvents=function(t,e){var a=this,o=function(){var t=Array.prototype.slice.call(arguments);t.push(o),a.onLoad.apply(a,t)};e?t.attachEvent?t.attachEvent("onreadystatechange",o):t.addEventListener("load",o,!0):a.watchCss(t)},e.prototype.checkExists=function(t,e){var a=!1;return this.each(document.getElementsByTagName(e?"script":"link"),function(e){return e.getAttribute("data-module")&&e.getAttribute("data-module")===t?(a=e,!1):void 0}),a},e.prototype.create=function(t,e,a){var o=this;setTimeout(function(){var d=o.checkExists.call(o,t,a);d||(n++,d=document.createElement(a?"script":"link"),a?(d.async=!0,d.type="text/javascript",d.src=e):(d.media="all",d.href=e,d.rel="stylesheet"),d.setAttribute("data-module",t),d.setAttribute("data-count",n),d.setAttribute("data-loaded",!1),r?r.parentNode.insertBefore(d,r):c.appendChild(d),o.attachEvents.call(o,d,a))},0)},e.prototype.parseFiles=function(t){var e,o=t.push?t[0]:t,n=t.push?t[1]:t;return a[o]?void this.checkModuleLoaded():(-1!=n.indexOf("//")||/\.js/.test(n)||/^http/.test(n)||(n=n.replace(".","/"),n+=".js"),e="js"==n.split(".").pop(),void this.create.call(this,o,n,e))},t.include=t.require=t.define=function(t,a,o){return new e(t,a,o)}}(this);