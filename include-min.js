//     include.js 1.1.4
//     (c) 2011 Jérémy Barbe.
//     May be freely distributed under the MIT license.
(function(a){a.include=function(b,c){function p(b,c,e,n,p,r){r=/\.css$/.test(b),b=(b.charAt(0)==="/"||b.match(/^\w+:/)?"":o)+b,r?(n=d.createElement(m),n.href=b,n.rel="stylesheet",n.type="text/css",d.head.appendChild(n),c()):(i++,n=d.createElement(l),n.onload=n.onreadystatechange=function(d,f){f=0,d=this.readyState||d.type,!d.search("load|complete")&&!p&&(e?(b=function(){a[e]?q(c):setTimeout(b,j),++f>j&&(b=g)})():q(c),h[n.src.split("/").pop()]=f,n.onload=n.onreadystatechange=k._,n.parentNode&&n.parentNode.removeChild(n),n=k._,p=j)},n.async=!0,n.src=b,d[f].appendChild(n))}function q(a){function b(){!--i&&c()}a.length?a(b):(a(),b())}var d=document,e="getElementsByTagName",f="body",g=function(){},h={},i=0,j=1,k=[],l="script",m="link",n,o="./";!b.pop&&(b=[b]),c=c||g,(o=a.baseUrl||function(){for(s in scripts=document.getElementsByTagName("script"))if(dataPath=scripts[s].getAttribute("data-url"))return dataPath;return""}())&&o.charAt(o.length-1)!=="/"&&(o+="/"),a.include.baseUrl=o,function r(a,o,q,s){if(!d[f])return setTimeout(r,j);k=k.concat(k.slice.call(d[e](l)),k.slice.call(d[e](m)));for(a=k.length;a--;)n=k[a].src||k[a].href,n&&(h[n.split("/").pop()]=n);for(a=b.length;a--;)s=g,q=!1,b[a].pop?(o=b[a][0],s=b[a][1],q=b[a][2]):o=b[a],h[o.split("/").pop()]||p(o,s,q);!i&&c()}()}})(this);