!function(t){function e(t,e,a){var o=this;"string"!=typeof t&&(a=e,e=t,t=null),e.constructor!==[].constructor&&(a=e,e=[]),n.unshift([t,e,a]),o.uid=Math.random().toString(36).replace(/[^a-z0-9]+/g,"").substr(0,10),o.checkModuleLoaded(),e.length&&o.each(e,o.parseFiles)}var a={},n=[],o=1,r=document.getElementsByTagName("base")[0],c=document.getElementsByTagName("head")[0];e.prototype.each=function(t,e){var a,n=this;for(a=0;a<t.length&&(void 0===t[a]||!1!==e.call(n,t[a],a,t));a++);},e.prototype.getId=function(t,e){return(e?"":this.uid+"-")+t.replace(/[^a-z0-9]+/g,"")},e.prototype.getFileName=function(){var t=document.querySelectorAll("script"),e=t[t.length-1],a=document.location.href.split("/"),n=e.src;return a.pop(),a=a.join("/"),n.replace(a,"").substring(1)},e.prototype.checkModuleLoaded=function(){var t=this;t.each(n,function(e,r){var c=e[0],i=e[1],u=e[2],d=[];t.each(i,function(e,n,o){n=e.push?e[0]:e,(o=document.querySelector('[data-id*="'+t.getId(n,1)+'"]'))&&"LINK"==o.nodeName?d.push(null):void 0!==a[n]&&d.push(a[n])}),i.length!==d.length&&0!==i.length||(null===c&&r+1===n.length&&(n=[],o=1),u="function"==typeof u?u.apply(this,d):u,a[c||t.getFileName()]=u)})},e.prototype.onModuleLoaded=function(t,e){var r=this;e>n.length?(o--,a[t]=a[t]||o):null===n[0][0]&&(n[0][0]=t),r.checkModuleLoaded()},e.prototype.onLoad=function(t,e){var a=this,n=t.currentTarget||t.srcElement;"load"!==t.type&&"complete"!=n.readyState||(n.setAttribute("data-loaded",!0),a.onModuleLoaded(n.getAttribute("data-module"),n.getAttribute("data-count")),n.attachEvent?n.detachEvent("onreadystatechange",e):n.removeEventListener("load",e))},e.prototype.watchCss=function(t){for(var e=this,a=document.styleSheets,n=a.length,o=t.href.split("//").pop();n--;)if(a[n].href&&-1!=a[n].href.indexOf(o))return t.setAttribute("data-loaded",!0),void e.onModuleLoaded(t.getAttribute("data-module"),t.getAttribute("data-count"));setTimeout(function(){e.watchCss.call(e,t)})},e.prototype.attachEvents=function(t,e){var a=this,n=function(){var t=Array.prototype.slice.call(arguments);t.push(n),a.onLoad.apply(a,t)};e?t.attachEvent?t.attachEvent("onreadystatechange",n):t.addEventListener("load",n,!0):a.watchCss(t)},e.prototype.checkExists=function(t,e){var a=!1;return this.each(document.getElementsByTagName(e?"script":"link"),function(e){if(e.getAttribute("data-module")&&e.getAttribute("data-module")===t)return a=e,!1}),a},e.prototype.create=function(t,e,a){var n=this;setTimeout(function(){var i=n.checkExists.call(n,t,a);i||(o++,i=document.createElement(a?"script":"link"),a?(i.async=!0,i.type="text/javascript",i.src=e):(i.media="all",i.href=e,i.rel="stylesheet"),i.setAttribute("data-id",n.getId(t)),i.setAttribute("data-module",t),i.setAttribute("data-count",o),i.setAttribute("data-loaded",!1),r?r.parentNode.insertBefore(i,r):c.appendChild(i),n.attachEvents.call(n,i,a))},0)},e.prototype.parseFiles=function(t){var e,n=t.push?t[0]:t,o=t.push?t[1]:t;a[n]?this.checkModuleLoaded():(-1!=o.indexOf("//")||/\.js/.test(o)||/^http/.test(o)||(o=o.replace(/\./g,"/"),o+=".js"),e="js"==o.split(".").pop(),this.create.call(this,n,o,e))},t.include=t.require=t.define=function(t,a,n){return new e(t,a,n)}}(this);